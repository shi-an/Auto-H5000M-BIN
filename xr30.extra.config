# ============================================================================
# ImmortalWrt XR30 定制化配置
# ============================================================================
# 此文件在基础配置之后应用，用于扩展和自定义功能
# GitHub Actions 会根据 inputs 参数进一步覆盖相关配置

# ============================================================================
# 基础系统包
# ============================================================================
CONFIG_PACKAGE_ca-bundle=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_yq=y
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_luci-app-ramfree=y
CONFIG_PACKAGE_luci-lib-base=y
CONFIG_PACKAGE_luci-lib-ipkg=y
CONFIG_PACKAGE_luci-lib-jsonc=y
CONFIG_PACKAGE_ucode-mod-digest=y
CONFIG_PACKAGE_luci-lib-cbi=y
CONFIG_PACKAGE_luci-cbi=y
CONFIG_PACKAGE_jq=y
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_bash-completion=y
CONFIG_PACKAGE_jshn=y
CONFIG_PACKAGE_jsonfilter=y


# ============================================================================
# LuCI 主题和优化
# ============================================================================
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-i18n-argon-config-zh-cn=y

# ============================================================================
# 硬件加速
# ============================================================================
CONFIG_PACKAGE_luci-app-turboacc-mtk=y
CONFIG_PACKAGE_luci-i18n-turboacc-mtk-zh-cn=y

# ============================================================================
# 网络和系统工具
# ============================================================================
# TUN 隧道支持
CONFIG_PACKAGE_kmod-tun=y

# 完整 IP 工具
CONFIG_PACKAGE_ip-full=y

# 终端工具
CONFIG_PACKAGE_ttyd=y
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-i18n-ttyd-zh-cn=y

# 防火墙
CONFIG_PACKAGE_nftables=y
CONFIG_PACKAGE_luci-i18n-firewall-zh-cn=y

# 系统监控
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_nethogs=y

# 自动重启
CONFIG_PACKAGE_luci-app-autoreboot=y
CONFIG_PACKAGE_luci-i18n-autoreboot-zh-cn=y

# ============================================================================
# 编译优化
# ============================================================================
CONFIG_CCACHE=y
CONFIG_DEVEL=y
CONFIG_BUILD_LOG=y
CONFIG_KERNEL_BUILD_USER="builder"
CONFIG_KERNEL_BUILD_DOMAIN="github.actions"

# ============================================================================
# 构建选项
# ============================================================================
# 禁用 initramfs 镜像生成 (节省空间和时间)
# CONFIG_TARGET_ROOTFS_INITRAMFS is not set
